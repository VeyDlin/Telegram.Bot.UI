<view id="form-demo" web-preview="false" back-title="¬´ Back">
    <title>Form Example</title>

    <message>
        <b>User Registration Form</b>
        <br/><br/>
        Notifications: {{ notificationsEnabled ? '‚úÖ Yes' : '‚ùå No' }}
        <br/>
        Theme: {{ selectedTheme }}
        <br/>
        Categories: {{ selectedCategories.join(', ') || 'None' }}
    </message>

    <components>
        <!-- Notifications toggle (checkbox for ON/OFF) -->
        <checkbox id="notifications" title="{{ self.isSelected ? 'üîî Notifications: ON' : 'üîï Notifications: OFF' }}" :selected="notificationsEnabled"></checkbox>

        <!-- Theme selection -->
        <radio id="theme" v-bind-selected="selectedTheme">
            <option value="light" title="‚òÄÔ∏è Light Theme"></option>
            <option value="dark" title="üåô Dark Theme"></option>
            <option value="system" title="üíª System Default"></option>
        </radio>

        <!-- Categories multi-select (individual checkboxes) -->
        <row>
            <checkbox id="cat_news" title="{{ self.isSelected ? '‚úÖ News' : 'üì∞ News' }}"></checkbox>
            <checkbox id="cat_updates" title="{{ self.isSelected ? '‚úÖ Updates' : 'üîÑ Updates' }}"></checkbox>
        </row>
        <row>
            <checkbox id="cat_offers" title="{{ self.isSelected ? '‚úÖ Offers' : 'üéÅ Offers' }}"></checkbox>
            <checkbox id="cat_tips" title="{{ self.isSelected ? '‚úÖ Tips' : 'üí° Tips' }}"></checkbox>
        </row>

        <!-- Submit button -->
        <command id="submit" title="‚úÖ Save Settings"></command>
    </components>

    <script>
        var notificationsEnabled = true;
        var selectedTheme = 'dark';
        var selectedCategories = [];

        function updateCategories() {
            selectedCategories = [];
            if (component('cat_news').isSelected) selectedCategories.push('news');
            if (component('cat_updates').isSelected) selectedCategories.push('updates');
            if (component('cat_offers').isSelected) selectedCategories.push('offers');
            if (component('cat_tips').isSelected) selectedCategories.push('tips');
        }

        onMounted(function() {
            component('notifications').onUpdate = function(isSelected) {
                notificationsEnabled = isSelected;
            };

            component('theme').onUpdate = function(e) {
                selectedTheme = e.selectedId;
            };

            component('cat_news').onUpdate = updateCategories;
            component('cat_updates').onUpdate = updateCategories;
            component('cat_offers').onUpdate = updateCategories;
            component('cat_tips').onUpdate = updateCategories;

            component('submit').onClick = function() {
                updateCategories();
                console.log('Settings saved!');
                console.log('Notifications:', notificationsEnabled);
                console.log('Theme:', selectedTheme);
                console.log('Categories:', selectedCategories);
            };
        });
    </script>
</view>
